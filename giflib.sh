#!/bin/bash
# cpu av8 av7 x86 x64
# NDK +++ +++ +++ +++ clang
# GNU +++ +++  .   .  gcc
# WIN +++ +++  .   .  clang/gcc

lib='giflib'
apt='libgif-dev'
dsc='Library for manipulating GIF files'
lic='other'
src='https://git.code.sf.net/p/giflib/code.git'
cfg='cmake'
pc_llib='-lgif'
eta='18'
lst_inc='gif_lib.h'
lst_lib='libgiflib'
lst_bin='giftext gifsponge giffilter giffix gifecho \
         gifbg gifhisto gifwedge giftool gifclrmp \
         gif2rgb gifcolor gifbuild gifinto'
dll='libgiflib-7'
cbk="BUILD_UTILITIES"

. xbuilder.sh

start

<<'XB_PATCH'
LS0tIENNYWtlTGlzdHMudHhfCTIwMjItMDEtMTggMTE6MTU6NTIuOTU2MjQ1NDAwICswMDAwCisr
KyBDTWFrZUxpc3RzLnR4dAkyMDIyLTAxLTE4IDExOjE2OjE4LjQyNjI0NTQwMCArMDAwMApAQCAt
MCwwICsxLDkxIEBACitjbWFrZV9taW5pbXVtX3JlcXVpcmVkKFZFUlNJT04gMi44LjEyKQorCitw
cm9qZWN0KGdpZmxpYiBDKQorCitvcHRpb24oQlVJTERfU1RBVElDX0xJQlMgIkJ1aWxkIHN0YXRp
YyBsaWJzIiBPTikKK29wdGlvbihCVUlMRF9VVElMSVRJRVMgIkJ1aWxkIHV0aWxpdGllcyIgT0ZG
KQorb3B0aW9uKElOU1RBTExfTUFOICJJbnN0YWxsIG1hbiIgT0ZGKQorb3B0aW9uKElOU1RBTExf
RE9DUyAiSW5zdGFsbCBkb2NzIiBPRkYpCisKK2V4ZWN1dGVfcHJvY2VzcyhDT01NQU5EIC4vZ2V0
dmVyc2lvbgorICAgIFdPUktJTkdfRElSRUNUT1JZICR7Q01BS0VfU09VUkNFX0RJUn0KKyAgICBP
VVRQVVRfVkFSSUFCTEUgVkVSU0lPTgorICAgIE9VVFBVVF9TVFJJUF9UUkFJTElOR19XSElURVNQ
QUNFCispCisKK3NldChMSUJNQUpPUiA3KQorc2V0KExJQk1JTk9SIDEpCitzZXQoTElCUE9JTlQg
MCkKK3NldChMSUJWRVIgIiR7TElCTUFKT1J9LiR7TElCTUlOT1J9LiR7TElCUE9JTlR9IikKKwor
c2V0KGdpZmxpYl9TUkMgZGdpZl9saWIuYyBlZ2lmX2xpYi5jIGdldGFyZy5jCisgICAgZ2lmYWxs
b2MuYyBnaWZfZXJyLmMgZ2lmX2ZvbnQuYyBnaWZfaGFzaC5jCisgICAgb3BlbmJzZC1yZWFsbG9j
YXJyYXkuYyBxcHJpbnRmLmMgcXVhbnRpemUuYworKQorCitzZXQoZ2lmbGliX0lOU1RBTExBQkxF
IGdpZjJyZ2IgZ2lmYnVpbGQgZ2lmZWNobworICAgIGdpZmZpbHRlciBnaWZmaXggZ2lmaW50byBn
aWZ0ZXh0IGdpZnRvb2wKKyAgICBnaWZzcG9uZ2UgZ2lmY2xybXAKKykKKworc2V0KGdpZmxpYl9V
VElMUyAke2dpZmxpYl9JTlNUQUxMQUJMRX0KKyAgICBnaWZiZyBnaWZjb2xvciBnaWZoaXN0byBn
aWZ3ZWRnZQorKQorCitzZXQoZ2lmbGliX0RPQ1MgUkVBRE1FIE5FV1MgVE9ETyBDT1BZSU5HCisg
ICAgZ2V0dmVyc2lvbiBDaGFuZ2VMb2cgaGlzdG9yeS5hZG9jCisgICAgY29udHJvbCBkb2MvKi54
bWwgZG9jLyoudHh0CisgICAgZG9jL2luZGV4Lmh0bWwuaW4gZG9jLzAwUkVBRE1FCispCisKK2lm
KElOU1RBTExfTUFOKQorICBmaWxlKEdMT0IgZ2lmbGliX01BTiBkb2MvKi4xKQorZW5kaWYoKQor
CitpZihCVUlMRF9TSEFSRURfTElCUykKKyAgYWRkX2xpYnJhcnkoZ2lmbGliIFNIQVJFRCAke2dp
ZmxpYl9TUkN9KQorICB0YXJnZXRfbGlua19saWJyYXJpZXMoZ2lmbGliIG0pCisgIHNldF90YXJn
ZXRfcHJvcGVydGllcyhnaWZsaWIgUFJPUEVSVElFUyBWRVJTSU9OICR7TElCVkVSfSBTT1ZFUlNJ
T04gJHtMSUJNQUpPUn0pCisgIGlmKFdJTjMyKQorICAgIHNldF90YXJnZXRfcHJvcGVydGllcyhn
aWZsaWIgUFJPUEVSVElFUyBTVUZGSVggIi0ke0xJQk1BSk9SfSR7Q01BS0VfU0hBUkVEX0xJQlJB
UllfU1VGRklYfSIpCisgIGVuZGlmKFdJTjMyKQorZW5kaWYoKQorCitpZihCVUlMRF9TVEFUSUNf
TElCUykKKyAgYWRkX2xpYnJhcnkoZ2lmbGliX3N0YXRpYyBTVEFUSUMgJHtnaWZsaWJfU1JDfSkK
KyAgc2V0X3RhcmdldF9wcm9wZXJ0aWVzKGdpZmxpYl9zdGF0aWMgUFJPUEVSVElFUyBPVVRQVVRf
TkFNRSBnaWZsaWIpCitlbmRpZigpCisKK2lmKEJVSUxEX1VUSUxJVElFUykKKyAgZm9yZWFjaChV
VElMSVRZICR7Z2lmbGliX1VUSUxTfSkKKyAgICBhZGRfZXhlY3V0YWJsZSgke1VUSUxJVFl9ICR7
VVRJTElUWX0uYykKKyAgICB0YXJnZXRfbGlua19saWJyYXJpZXMoJHtVVElMSVRZfSBnaWZsaWIp
CisgIGVuZGZvcmVhY2goKQorZW5kaWYoKQorCitpZihCVUlMRF9TSEFSRURfTElCUykKKyAgaW5z
dGFsbChUQVJHRVRTIGdpZmxpYgorICAgIFJVTlRJTUUgREVTVElOQVRJT04gYmluCisgICAgQVJD
SElWRSBERVNUSU5BVElPTiBsaWIke0xJQl9TVUZGSVh9CisgICAgTElCUkFSWSBERVNUSU5BVElP
TiBsaWIke0xJQl9TVUZGSVh9KQorZW5kaWYoKQorCitpZihCVUlMRF9TVEFUSUNfTElCUykKKyAg
aW5zdGFsbChUQVJHRVRTIGdpZmxpYl9zdGF0aWMgQVJDSElWRSBERVNUSU5BVElPTiBsaWIke0xJ
Ql9TVUZGSVh9KQorZW5kaWYoKQorCitpZihCVUlMRF9VVElMSVRJRVMpCisgIGZvcmVhY2goVVRJ
TElUWSAke2dpZmxpYl9VVElMU30pCisgICAgaW5zdGFsbChUQVJHRVRTICR7VVRJTElUWX0gREVT
VElOQVRJT04gYmluKQorICBlbmRmb3JlYWNoKCkKK2VuZGlmKCkKKworaW5zdGFsbChGSUxFUyBn
aWZfbGliLmggREVTVElOQVRJT04gaW5jbHVkZSkKKworaWYoSU5TVEFMTF9NQU4pCisgIGluc3Rh
bGwoRklMRVMgJHtnaWZsaWJfTUFOfSBERVNUSU5BVElPTiAke0NNQUtFX0lOU1RBTExfUFJFRklY
fS9tYW4vbWFuMSkKK2VuZGlmKCkKKworaW5zdGFsbChESVJFQ1RPUlkgJHtDTUFLRV9DVVJSRU5U
X1NPVVJDRV9ESVJ9L2RvYworICAgIERFU1RJTkFUSU9OICR7Q01BS0VfSU5TVEFMTF9QUkVGSVh9
L3NoYXJlL2dpZgorICAgIEZJTEVTX01BVENISU5HIFBBVFRFUk4gIiptbCIpCg==
XB_PATCH

# Filelist
# --------
# include/gif_lib.h
# lib/libgiflib.a
# lib/pkgconfig/giflib.pc
# lib/libgiflib.so
# bin/giftext
# bin/gifsponge
# bin/giffilter
# bin/giffix
# bin/gifecho
# bin/gifbg
# bin/gifhisto
# bin/gifwedge
# bin/giftool
# bin/gifclrmp
# bin/gif2rgb
# bin/gifcolor
# bin/gifbuild
# bin/gifinto
